# ğŸ› ï¸ å¸¸ç”¨è„šæœ¬è¯´æ˜

æœ¬ç›®å½•åŒ…å«äº†å‡ ä¸ªå¸¸ç”¨çš„ Shell è„šæœ¬,å¸®åŠ©æ‚¨æ›´æ–¹ä¾¿åœ°ç®¡ç†ä»£ç ä»“åº“ã€‚

## ğŸŒ³ åˆ†æ”¯ç­–ç•¥

æœ¬é¡¹ç›®é‡‡ç”¨ **dev åˆ†æ”¯å¼€å‘æ¨¡å¼**:

- **main åˆ†æ”¯**: é•œåƒä¸Šæ¸¸ä»“åº“ (The-Agent-Builder/Code-reader çš„ master åˆ†æ”¯),ä¿æŒå¹²å‡€,ä¸ç›´æ¥åœ¨æ­¤å¼€å‘
- **dev åˆ†æ”¯**: æ—¥å¸¸å¼€å‘åˆ†æ”¯,æ‚¨çš„æ‰€æœ‰ä¿®æ”¹éƒ½åœ¨è¿™é‡Œè¿›è¡Œ
- **feature åˆ†æ”¯**: å¯é€‰,ç”¨äºå¼€å‘å…·ä½“åŠŸèƒ½

## ğŸ“œ è„šæœ¬åˆ—è¡¨

### 1. `sync-upstream.sh` - åŒæ­¥ä¸Šæ¸¸ä»£ç 

**ç”¨é€”**: ä»ä¸Šæ¸¸ä»“åº“åŒæ­¥æœ€æ–°ä»£ç åˆ°æœ¬åœ° main åˆ†æ”¯

**ä½¿ç”¨æ–¹æ³•**:
```bash
./sync-upstream.sh
```

**æ‰§è¡Œæ­¥éª¤**:
1. åˆ‡æ¢åˆ° main åˆ†æ”¯
2. ä»ä¸Šæ¸¸è·å–æœ€æ–°ä»£ç 
3. åˆå¹¶ä¸Šæ¸¸ master åˆ°æœ¬åœ° main
4. æ¨é€åˆ°æ‚¨çš„ fork çš„ main åˆ†æ”¯
5. è‡ªåŠ¨åˆ‡æ¢å› dev åˆ†æ”¯

**ä½¿ç”¨åœºæ™¯**:
- æ¯æ¬¡å¼€å§‹å·¥ä½œå‰åŒæ­¥ä¸Šæ¸¸æœ€æ–°ä»£ç 

---

### 2. `merge-main-to-dev.sh` - åˆå¹¶ main åˆ° dev

**ç”¨é€”**: å°† main åˆ†æ”¯çš„æ›´æ–°åˆå¹¶åˆ° dev åˆ†æ”¯

**ä½¿ç”¨æ–¹æ³•**:
```bash
./merge-main-to-dev.sh
```

**æ‰§è¡Œæ­¥éª¤**:
1. åˆ‡æ¢åˆ° dev åˆ†æ”¯
2. åˆå¹¶ main åˆ†æ”¯
3. æ¨é€åˆ°æ‚¨çš„ fork çš„ dev åˆ†æ”¯

**ä½¿ç”¨åœºæ™¯**:
- åŒæ­¥ä¸Šæ¸¸å,å°†æ›´æ–°åˆå¹¶åˆ°å¼€å‘åˆ†æ”¯

---

### 3. `push-changes.sh` - æ¨é€ä¿®æ”¹

**ç”¨é€”**: æäº¤å¹¶æ¨é€æ‚¨çš„ä¿®æ”¹åˆ° fork çš„ dev åˆ†æ”¯

**ä½¿ç”¨æ–¹æ³•**:
```bash
./push-changes.sh
```

**æ‰§è¡Œæ­¥éª¤**:
1. æ£€æŸ¥å½“å‰åˆ†æ”¯(å¦‚åœ¨ main ä¼šæç¤ºåˆ‡æ¢åˆ° dev)
2. æ˜¾ç¤ºå½“å‰ä¿®æ”¹
3. è¯¢é—®æäº¤ä¿¡æ¯
4. æäº¤å¹¶æ¨é€

**ä½¿ç”¨åœºæ™¯**:
- å®Œæˆä»£ç ä¿®æ”¹åå¿«é€Ÿæäº¤

---

### 4. `prepare-pr.sh` - å‡†å¤‡ Pull Request

**ç”¨é€”**: å°† dev çš„ä¿®æ”¹åˆå¹¶åˆ° main,å‡†å¤‡æäº¤ PR åˆ°ä¸Šæ¸¸

**ä½¿ç”¨æ–¹æ³•**:
```bash
./prepare-pr.sh
```

**æ‰§è¡Œæ­¥éª¤**:
1. æ£€æŸ¥ dev åˆ†æ”¯æ˜¯å¦æœ‰æœªæäº¤ä¿®æ”¹
2. åˆ‡æ¢åˆ° main å¹¶åŒæ­¥ä¸Šæ¸¸
3. åˆå¹¶ dev åˆ° main
4. æ¨é€åˆ°æ‚¨çš„ fork
5. åˆ‡æ¢å› dev åˆ†æ”¯

**ä½¿ç”¨åœºæ™¯**:
- å‡†å¤‡å‘ä¸Šæ¸¸ä»“åº“æäº¤ Pull Request

---

### 5. `update-deps.sh` - æ›´æ–°ä¾èµ–

**ç”¨é€”**: æ›´æ–° Python å’Œ Node.js ä¾èµ–

**ä½¿ç”¨æ–¹æ³•**:
```bash
./update-deps.sh
```

**æ‰§è¡Œæ­¥éª¤**:
1. æ›´æ–° Python ä¾èµ– (uv)
2. æ›´æ–°å‰ç«¯ä¾èµ– (pnpm)

**æ³¨æ„äº‹é¡¹**:
- é”æ–‡ä»¶å·²è¢« .gitignore å¿½ç•¥

---

## ğŸ”„ å…¸å‹å·¥ä½œæµç¨‹

### åœºæ™¯ 1: æ—¥å¸¸å¼€å‘

```bash
# 1. åŒæ­¥ä¸Šæ¸¸æœ€æ–°ä»£ç 
./sync-upstream.sh

# 2. å°† main çš„æ›´æ–°åˆå¹¶åˆ° dev
./merge-main-to-dev.sh

# 3. åœ¨ dev åˆ†æ”¯è¿›è¡Œå¼€å‘
# ... ç¼–è¾‘ä»£ç  ...

# 4. æäº¤å¹¶æ¨é€
./push-changes.sh
```

### åœºæ™¯ 2: æäº¤ Pull Request åˆ°ä¸Šæ¸¸

```bash
# 1. ç¡®ä¿ dev åˆ†æ”¯æ‰€æœ‰ä¿®æ”¹å·²æäº¤
./push-changes.sh

# 2. å‡†å¤‡ PR (ä¼šè‡ªåŠ¨åˆå¹¶åˆ° main)
./prepare-pr.sh

# 3. åœ¨ GitHub ä¸Šåˆ›å»º Pull Request
# è®¿é—®: https://github.com/kay120/Code-reader
```

### åœºæ™¯ 3: æ›´æ–°ä¾èµ–

```bash
# 1. åœ¨ dev åˆ†æ”¯æ›´æ–°ä¾èµ–
./update-deps.sh

# 2. æµ‹è¯•æ˜¯å¦æ­£å¸¸
# ... è¿è¡Œæµ‹è¯• ...

# 3. æäº¤ä¿®æ”¹
./push-changes.sh
```

---

## ğŸ“ Git é…ç½®è¯´æ˜

å½“å‰ä»“åº“é…ç½®äº†ä¸¤ä¸ªè¿œç¨‹ä»“åº“:

- **origin**: `https://github.com/kay120/Code-reader.git` (æ‚¨çš„ fork,æœ‰å†™æƒé™)
- **upstream**: `https://github.com/The-Agent-Builder/Code-reader.git` (ä¸Šæ¸¸ä»“åº“,åªè¯»)

### æ‰‹åŠ¨æ“ä½œå‘½ä»¤

å¦‚æœæ‚¨æƒ³æ‰‹åŠ¨æ‰§è¡Œ,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:

```bash
# åŒæ­¥ä¸Šæ¸¸
git checkout main
git fetch upstream
git merge upstream/master
git push origin main

# æäº¤ä¿®æ”¹
git add .
git commit -m "æ‚¨çš„æäº¤ä¿¡æ¯"
git push origin main

# æ›´æ–°ä¾èµ–
uv sync --upgrade
cd frontend && pnpm update && cd ..
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ‰§è¡Œå‰ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™**:
   ```bash
   chmod +x *.sh
   ```

2. **é‡åˆ°å†²çªæ—¶**: å¦‚æœåŒæ­¥ä¸Šæ¸¸æ—¶é‡åˆ°ä»£ç å†²çª,è„šæœ¬ä¼šåœæ­¢æ‰§è¡Œ,æ‚¨éœ€è¦æ‰‹åŠ¨è§£å†³å†²çª

3. **ç½‘ç»œé—®é¢˜**: ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸,èƒ½å¤Ÿè®¿é—® GitHub

4. **è®¤è¯é—®é¢˜**: ç¡®ä¿å·²é…ç½® Git è®¤è¯(SSH å¯†é’¥æˆ– Personal Access Token)

---

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: æ‰§è¡Œè„šæœ¬æ—¶æç¤º "Permission denied"
A: è¿è¡Œ `chmod +x *.sh` ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™

### Q: åŒæ­¥æ—¶å‡ºç°å†²çªæ€ä¹ˆåŠ?
A: æ‰‹åŠ¨è§£å†³å†²çªå,è¿è¡Œ:
```bash
git add .
git commit -m "è§£å†³å†²çª"
git push origin main
```

### Q: å¦‚ä½•æŸ¥çœ‹å½“å‰çŠ¶æ€?
A: è¿è¡Œ `git status` æŸ¥çœ‹å½“å‰ä¿®æ”¹çŠ¶æ€

---

## ğŸ“š æ›´å¤šèµ„æº

- [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [GitHub Fork å·¥ä½œæµ](https://docs.github.com/en/get-started/quickstart/fork-a-repo)
- [é¡¹ç›®ä¸» README](./README.md)

